define("mod_data/importpresets",["exports","core_form/modalform","core/url","core/str","mod_data/importmappingdialogue"],(function(_exports,_modalform,_url,_str,_importmappingdialogue){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript module for importing presets.
   *
   * @module     mod_data/importpreset
   * @copyright  2022 Laurent David <laurent.david@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=_interopRequireDefault(_modalform),_url=_interopRequireDefault(_url);const selectors_importPresetButton='[data-action="importpresets"]';_exports.init=()=>{document.addEventListener("click",(event=>{const importPresetButton=event.target.closest(selectors_importPresetButton),cmId=importPresetButton.dataset.cmid;if(!importPresetButton)return;event.preventDefault();const modalForm=new _modalform.default({modalConfig:{title:(0,_str.get_string)("importpreset","mod_data")},formClass:"mod_data\\form\\import_presets",args:{cmid:cmId},saveButtonText:(0,_str.get_string)("importandapply","mod_data")});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(event=>{if(event.detail&&event.detail.data)if(event.detail.data.needsmapping)(0,_importmappingdialogue.mappingdialogue)("",cmId);else{const redirection=_url.default.relativeUrl("mod/data/preset.php",{id:cmId,fullname:"",mode:"finishimport",action:"notmapping"},!1);window.location.assign(redirection)}})),modalForm.show()}))}}));

//# sourceMappingURL=importpresets.min.js.map